<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:ReelRoulette"
        x:Class="ReelRoulette.ManageTagsDialog"
        x:DataType="local:ManageTagsDialog"
        Title="Manage Tags"
        Width="500"
        Height="600"
        WindowStartupLocation="CenterOwner"
        MinWidth="400"
        MinHeight="400">
    <Grid RowDefinitions="Auto * Auto Auto" Margin="12">
        <!-- Header -->
        <TextBlock Grid.Row="0" 
                   Text="Manage Tags"
                   FontWeight="Bold"
                   FontSize="16"
                   Margin="0,0,0,16"/>

        <!-- Tags List -->
        <Border Grid.Row="1"
                BorderBrush="{DynamicResource ThemeBorderBrush}"
                BorderThickness="1"
                CornerRadius="4"
                Padding="8"
                Margin="0,0,0,16">
            <Grid RowDefinitions="Auto *">
                <TextBlock Grid.Row="0"
                           Text="Available Tags"
                           FontWeight="SemiBold"
                           FontSize="13"
                           Margin="0,0,0,8"/>
                <ListBox x:Name="TagsListBox"
                         Grid.Row="1"
                         ItemsSource="{Binding Tags}">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <Grid ColumnDefinitions="* Auto" Margin="0,2">
                                <TextBlock Grid.Column="0"
                                           Text="{Binding}"
                                           VerticalAlignment="Center"
                                           Margin="4,0"/>
                                <Button Grid.Column="1"
                                        Content="Delete"
                                        Click="DeleteTagButton_Click"
                                        Tag="{Binding}"
                                        MinWidth="60"
                                        Margin="4,0"/>
                            </Grid>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>
            </Grid>
        </Border>

        <!-- Add Tag Section -->
        <Grid Grid.Row="2"
              ColumnDefinitions="* Auto"
              ColumnSpacing="8"
              Margin="0,0,0,16">
            <TextBox x:Name="NewTagTextBox"
                     Grid.Column="0"
                     Watermark="Enter new tag name"
                     KeyDown="NewTagTextBox_KeyDown"/>
            <Button Grid.Column="1"
                    Content="Add Tag"
                    Click="AddTagButton_Click"
                    MinWidth="100"/>
        </Grid>

        <!-- Buttons -->
        <StackPanel Grid.Row="3" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Right"
                    Spacing="8">
            <Button Content="Close"
                    Click="CloseButton_Click"
                    MinWidth="100"
                    IsDefault="True"/>
        </StackPanel>
    </Grid>
</Window>

